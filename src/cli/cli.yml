name: asciii
#version: 0.1.0 ## DO NOT SET MANUALLY
author: Hendrik Sollich <hendrik@hoodie.de>
about: The ascii invoicer III (yml edit)

settings:
    - ArgRequiredElseHelp

args:

subcommands:
  - new:
      about: Create a new project
      args:
        - name:
            help: "Project name"
        - template:
            help: "Use a specific template"
            short: T
            long: template
        - editor:
            help: Override the configured editor
            short: E
            long: editor
        - "don't edit":
            help: Do not edit the file after creation
            short: D
            long: dont

  - list:
      about: List Projects
      args: 
        - "archive":
              help: "list archived projects" 
              short: "a"
              long: "archive" 
              takes_value: true  

        - "sort":
              help: "sort by [date | index | name | manager]" 
              short: "s"
              long: "sort" 
              #possible_values: vec![ String::from "date" , String::from "index" , String::from "name" , String::from "manager"  ] 
              takes_value: true  

        - "all":
              help: "List all projects, ever" 
              long: "all"  

        - "templates":
              help: "list templates" 
              short: "t"
              long: "templates"  

        - "broken":
              help: "list broken projects  without project file " 
              short: "b"
              long: "broken"  
         
  - archive:
      about: Move a Project into the archive
  - unarchive:
      about: Move a Project out of the archive
  - path:
      about: Show storage path
  - edit:
      about: Edit a specific project
      args:
        - "search_term":
              help: "Search term, possibly event name" 
              required: true  

        - "archive":
              help: "Pick an archived project" 
              short: "a" 
              long: "archive" 
              takes_value: true  

        - "template":
              help: "Edit a template  currently tyml: " 
              short: "t" 
              long: "template"  

        - "editor":
              help: "Override the configured editor" 
              short: "e" 
              long: "editor" 
              takes_value: true  
  - show:
      about: Display a specific project
      args:
        - "search_term":
              help: "Search term, possibly event name" 
              required: true  

        - "archive":
              help: "Pick an archived project" 
              short: "a" 
              long: "archive" 
              takes_value: true  

        - "template":
              help: "Show show fields in templates that are filled" 
              short: "t" 
              long: "template" 
              #conflicts_with: "archive"  # this causes a crash
                           
                    

  - config:
      about: Show and edit your config
      args:

          - "edit":
                help: "Edit your config" 
                short: "e" 
                long: "edit" 
                 

          - "show":
                help: "Show a specific config value" 
                short: "s" 
                long: "show" 
                takes_value: true  

          - "default":
                help: "Show default config" 
                short: "d" 
                long: "default" 
                 
          


