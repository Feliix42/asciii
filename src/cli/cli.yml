name: asciii
#version: 0.1.0 ## DO NOT SET MANUALLY
author: Hendrik Sollich <hendrik@hoodie.de>
about: The ascii invoicer III (yml edit)

settings:
    - ArgRequiredElseHelp

args:
  #- debug:
  #    help: Show debug information, may be anything
  #    long: debug

subcommands:
  - new:
      about: Create a new project
      args:
        - name:
            help: Project name
            required: true
        - template:
            help: Use a specific template.
            short: T
            long: template
        - editor:
            help: Override the configured editor
            short: E
            long: editor
        - "don't edit":
            help: Do not edit the file after creation
            short: D
            long: dont

  - list:
      about: List Projects
      args:
        - "archive":
              help: list archived projects
              short: a
              long: archive
              takes_value: true

        - "details":
              help: Add extra fields to print for each project listed
              short: d
              long: details
              takes_value: true
              multiple: true

        - "filter":
              help: List of fields to print for each project listed
              short: f
              long: filter
              takes_value: true
              multiple: true

        - "errors":
              help: Show Errors for each project
              long: "errors"

        - "simple":
              help: Use simple list
              long: simple

        - "sort":
              help: "sort by [date | index | name | manager]"
              long: sort
              short: s
              possible_values: ["date",  "index",  "name",  "manager"]
              takes_value: true

        - "all":
              help: List all projects, ever
              long: all

        - "templates":
              help: List templates
              long: templates
              short: t

        - "years":
              help: List years in archive
              long: years
              short: y

        - "paths":
              help: List paths to each project file
              long: paths
              short: p

        - "broken":
              help: List broken projects  without project file
              long: broken
              short: b

        - "virtual_fields":
              help: List all virtual data fields that can be used with "--details"
              long: virtual

        - "nothing":
              help: Print nothing, expect the fields supplied via "--details"
              long: nothing
              short: n

  - archive:
      about: Move a Project into the archive
      args:
        - NAME:
            help: The name of the project, duh!
            required: true

        - force:
            help: Archives the Project, even though it is not completely valid

        - year:
            help: Override the year
            long: year
            takes_value: true

  - unarchive:
      about: Move a Project out of the archive
      args:
        - YEAR:
            help: Specify the Archiv
            required: true
        - NAME:
            help: The name of the project, duh!
            required: true

  - path:
      about: Show storage path
      args:
        - templates:
            help: "Show path to templates instead"
            long: templates
            short: t
            conflicts_with: [output, bin]
        - output:
            help: "Show path to created documents instead"
            long: output
            short: o
            conflicts_with: [templates, bin]
        - bin:
            help: "Show path to current binary instead"
            long: bin
            short: b
            conflicts_with: [templates, output]

  - edit:
      about: Edit a specific project
      args:
        - "search_term":
              help: "Search term, possibly event name"
              required: true
              multiple: true

        - "archive":
              help: "Pick an archived project"
              short: "a"
              long: "archive"
              takes_value: true

        - "template":
              help: "Edit a template  currently tyml: "
              short: "t"
              long: "template"

        - "editor":
              help: "Override the configured editor"
              short: "e"
              long: "editor"
              takes_value: true

  - show:
      about: Display a specific project
      args:
        - "search_term":
              help: "Search term, possibly event name"
              required: true
              multiple: true

        - "archive":
              help: "Pick an archived project"
              long: "archive"
              short: "a"
              takes_value: true

        - "template":
              help: "Show show fields in templates that are filled"
              long: "template"
              short: "t"
              #conflicts_with: "archive"  # this causes a crash

        - "files":
              help: List files that belong to a project
              long: files

        - "invoice":
              help: Display values in invoice mode
              long: invoice
              short: i

        - "offer":
              help: Display values in offer mode
              long: offer
              short: o

        - "hours": # what used to be "--caterers"
              help: Display hours
              long: hours

        - "csv":
              help: Show as csv
              long: csv
              short: c

        - "markdown":
              help: Show as markdown
              long: markdown
              short: m

  - config:
      about: Show and edit your config
      args:

          - "edit":
                help: "Edit your config"
                short: "e"
                long: "edit"


          - "show":
                help: "Show a specific config value"
                short: "s"
                long: "show"
                takes_value: true

          - "default":
                help: "Show default config"
                short: "d"
                long: "default"

  - whoami:
      about: Show your name from config

# GIT STUFF
  - status:
      about: Show the working tree status
  - pull:
      about: Pull and merge new commits from remote
  - add:
      about: Add file contents to the index
      args:
        - "search_term":
              help: "Search term, possibly event name"
              required: true
              multiple: true
  - commit:
      about: Save changes locally
  - remote:
      about: Show information about the remote
  - push:
      about: Upload locally saved changes to the remote

  - term:
      about: terminal info

